***** Lexer *****
Reading from stdin
# let f (x:?) = x in
let g (y:'a) = f y in
g ((fun z -> z + 1):?) (true:?);;
***** Parser *****
e: let f = fun (x: ?) -> x in let g = fun (y: 'x10) -> f y in g ((fun (z: 'x11) -> z + 1) : ?) (true : ?)
***** Typing *****
e: let f = fun (x: ?) -> x in let g = fun (y: 'x10) -> f y in g ((fun (z: int) -> z + 1) : ?) (true : ?)
U: ?
***** Cast-insertion *****
f: let f = fun (x: ?) -> x in let g = fun (y: 'x10) -> f (y: 'x10 => ?) in (g ((fun (z: int) -> z + 1): int -> int => ? => 'x10): ? => ? -> ?) (true: bool => ?)
U: ?
***** Eval *****
eval <-- let f = fun (x: ?) -> x in let g = fun (y: 'x10) -> f (y: 'x10 => ?) in (g ((fun (z: int) -> z + 1): int -> int => ? => 'x10): ? => ? -> ?) (true: bool => ?)
eval <-- fun (x: ?) -> x
eval <-- let g = fun (y: 'x10) -> f (y: 'x10 => ?) in (g ((fun (z: int) -> z + 1): int -> int => ? => 'x10): ? => ? -> ?) (true: bool => ?)
eval <-- fun (y: 'x10) -> f (y: 'x10 => ?)
eval <-- (g ((fun (z: int) -> z + 1): int -> int => ? => 'x10): ? => ? -> ?) (true: bool => ?)
eval <-- g ((fun (z: int) -> z + 1): int -> int => ? => 'x10): ? => ? -> ?
eval <-- g ((fun (z: int) -> z + 1): int -> int => ? => 'x10)
eval <-- g
eval <-- (fun (z: int) -> z + 1): int -> int => ? => 'x10
eval <-- (fun (z: int) -> z + 1): int -> int => ?
eval <-- fun (z: int) -> z + 1
cast <-- <fun>: int -> int => ?
cast <-- <fun>: int -> int => ? -> ?
cast <-- <fun>: ? -> ? => ?
cast <-- <fun>: (? -> ?) => ?: ? => 'x10
DTI: 'x10 is instantiated to 'x13 -> 'x12
cast <-- <fun>: ? -> ? => 'x13 -> 'x12
eval <-- f (y: 'x13 -> 'x12 => ?)
eval <-- f
eval <-- y: 'x13 -> 'x12 => ?
eval <-- y
cast <-- <fun>: 'x13 -> 'x12 => ?
cast <-- <fun>: 'x13 -> 'x12 => ?
cast <-- <fun>: 'x13 -> 'x12 => ? -> ?
cast <-- <fun>: ? -> ? => ?
eval <-- x
cast <-- <fun>: (? -> ?) => ?: ? => ? -> ?
eval <-- true: bool => ?
eval <-- true
cast <-- true: bool => ?
cast <-- true: bool => ?: ? => 'x13
DTI: 'x13 is instantiated to bool
cast <-- true: bool => ?
cast <-- true: bool => ?
cast <-- true: bool => ?: ? => int
Blame on the environment side:
line 3, character 4 -- line 3, character 18